<section class="certifications-section section">
  <!-- Hero Section -->
  <div class="certifications-hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">Certifications & Professional Development</h1>
        <p class="hero-subtitle">
          Professional certifications and courses I've completed to enhance my
          skills and stay current with industry best practices.
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container">
    <!-- Loading State -->
    @if (isLoading()) {
      <div class="loading-container">
        <app-loading-spinner
          message="Loading certifications..."
          size="large"
        ></app-loading-spinner>
      </div>
    }

    <!-- Error State -->
    @if (hasError() && !isLoading()) {
      <div class="error-container">
        <app-error-state
          icon="fas fa-exclamation-circle"
          title="Unable to Load Certifications"
          message="Certification data is temporarily unavailable. Please try again later."
          [showRetry]="true"
          retryText="Retry"
          (retry)="retryLoadCertifications()"
        ></app-error-state>
      </div>
    }

    <!-- Certifications Grid -->
    @if (!isLoading() && !hasError() && certifications().length > 0) {
      <div class="certifications-grid">
        @for (
          certification of certifications();
          track getCertificationKey(certification)
        ) {
          <article class="certification-card">
            <!-- Card Header -->
            <div class="card-header">
              <div class="organization-info">
                @if (
                  certification.organizationLogo &&
                  !hasCertificationLogoFailed(certification)
                ) {
                  <div class="organization-logo">
                    <img
                      [src]="certification.organizationLogo"
                      [alt]="certification.issuingOrganization + ' logo'"
                      (error)="onCertificationLogoError(certification, $event)"
                    />
                  </div>
                } @else {
                  <div class="organization-logo-placeholder">
                    <span class="organization-initial">{{
                      getOrganizationInitial(certification.issuingOrganization)
                    }}</span>
                  </div>
                }
                <div class="organization-details">
                  <h3 class="certification-name">
                    @if (certification.credentialUrl) {
                      <a
                        [href]="certification.credentialUrl"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        {{ certification.certificationName }}
                        <i
                          class="fas fa-external-link-alt external-link-icon"
                          aria-hidden="true"
                        ></i>
                      </a>
                    } @else {
                      {{ certification.certificationName }}
                    }
                  </h3>
                  <h4 class="organization-name">
                    @if (certification.organizationWebsite) {
                      <a
                        [href]="certification.organizationWebsite"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        {{ certification.issuingOrganization }}
                        <i
                          class="fas fa-external-link-alt external-link-icon"
                          aria-hidden="true"
                        ></i>
                      </a>
                    } @else {
                      {{ certification.issuingOrganization }}
                    }
                  </h4>
                </div>
              </div>
            </div>

            <!-- Card Body -->
            <div class="card-body">
              <div class="certification-date">
                @if (certification.issueDate) {
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  <span>{{
                    getCertificationDate(
                      certification.issueDate,
                      certification.expirationDate,
                      certification.doesNotExpire
                    )
                  }}</span>
                }
              </div>
              @if (certification.description) {
                <p class="description">{{ certification.description }}</p>
              }
            </div>
          </article>
        }
      </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && !hasError() && certifications().length === 0) {
      <div class="empty-state">
        <div class="empty-icon">
          <i class="fas fa-certificate" aria-hidden="true"></i>
        </div>
        <h3>No Certifications Found</h3>
        <p>Certification information will be displayed here once available.</p>
      </div>
    }
  </div>
</section>
